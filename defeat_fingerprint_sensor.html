<html>
<head>
    <link rel="stylesheet" href="./css/style.css">
    <title>Defeat Fingerprint Sensor: SANS Holiday Hack 2020</title>
    <script type="text/javascript" src="./scripts/chars.js"></script>
</head>
<body>
<div class="content-surround main-centered">
    <div class="content-background">
        <div id="mainContent" class="content-body">
            <div class="content">
                <!--
                Common - v2020.DEC.23
                -->



                <div class="title">Defeat Fingerprint Sensor: SHHC20</div>
                <div class="writeup">
                    <div class="polaroid-rotate-right">
                        <div class="polaroid-surround">
                            <div class="polaroid-frame" onclick="OpenImgModal('defeat_fingerprint_sensor')">
                                <div class="polaroid-caption">Defeat Fingerprint Sensor</div>
                            </div>
                            <div class="polaroid-img-bg"><div id="defeat_fingerprint_sensor" class="polaroid-img" style="background-image: url('./screenshots/defeat_fingerprint_sensor.png');">&nbsp;</div></div>
                        </div>
                    </div>
                    <p>In the <a href="./santavator.html" class="link">Santavator</a> the service panel will not allow for the user to go to <a href="./santa_office.html" class="link">Santa's Office</a> unless they are in the Santa Persona.</p>
                </div>
                <div class="writeup">
                    <div class="polaroid-rotate">
                        <div class="polaroid-surround">
                            <div class="polaroid-frame" onclick="OpenImgModal('defeat_fingerprint_sensor_1')">
                                <div class="polaroid-caption">Whats Happening</div>
                            </div>
                            <div class="polaroid-img-bg"><div id="defeat_fingerprint_sensor_1" class="polaroid-img" style="background-image: url('./screenshots/defeat_fingerprint_sensor_1.png');">&nbsp;</div></div>
                        </div>
                    </div>
                    <p>Watching the network requests when the service panel is opened, it is shown where the javascript library <span class="question cmd-sur">app.js</span> is requested.  One of the things this does, on line 47, is to built a list of the tokens that are passed in the URL query paraneter <span class="question cmd-sur">token</span>.</p>
                    <p>From visiting the santavator as Santa, I saw that this token variable included a value of <span class="question cmd-sur">besanta</span></p>
                </div>
                <div class="writeup">
                    <div class="polaroid-rotate-right">
                        <div class="polaroid-surround">
                            <div class="polaroid-frame" onclick="OpenImgModal('defeat_fingerprint_sensor_4')">
                                <div class="polaroid-caption">Watch a Token</div>
                            </div>
                            <div class="polaroid-img-bg"><div id="defeat_fingerprint_sensor_4" class="polaroid-img" style="background-image: url('./screenshots/defeat_fingerprint_sensor_4.png');">&nbsp;</div></div>
                        </div>
                    </div>
                    <p>Within the Chrome developer tools, I added a breakpoint to line 52 of <span class="question cmd-sur">app.js</span>, right after the tokens variable is defined.  When the debugger was launched, I added a watch to the <span class="question cmd-sur">tokens</span> variable.  I then unpaused the debugger.</p>
                </div>
                <div class="writeup">
                    <div class="polaroid-rotate">
                        <div class="polaroid-surround">
                            <div class="polaroid-frame" onclick="OpenImgModal('defeat_fingerprint_sensor_5')">
                                <div class="polaroid-caption">Change a Token</div>
                            </div>
                            <div class="polaroid-img-bg"><div id="defeat_fingerprint_sensor_5" class="polaroid-img" style="background-image: url('./screenshots/defeat_fingerprint_sensor_5.png');">&nbsp;</div></div>
                        </div>
                    </div>
                    <p>With the tokens variable in the watch stack, I changed a value (marble) to <span class="question cmd-sur">besanta</span>.</p>
                </div>
                <div class="writeup">
                    <div class="polaroid-rotate-right">
                        <div class="polaroid-surround">
                            <div class="polaroid-frame" onclick="OpenImgModal('defeat_fingerprint_sensor_6')">
                                <div class="polaroid-caption">Where Am I?</div>
                            </div>
                            <div class="polaroid-img-bg"><div id="defeat_fingerprint_sensor_6" class="polaroid-img" style="background-image: url('./screenshots/defeat_fingerprint_sensor_6.png');">&nbsp;</div></div>
                        </div>
                    </div>
                    <p>At this point, I could press the 3rd floor button for Santa's Office and pass the fingerprint scanner.</p>
                </div>




                <div class="writeup">
                    <p>An overview of all people, places, and events can be learned in the <a href="./index.html" class="link">Introduction</a>.</p>
                </div>





                <!--
                Common - v2020.DEC.23
                -->
            </div>
            <div class="footer" style="">
                <span class="footer-text">
                    <a href="./index.html">Find Other Scrolls</a> | <a href="mailto:jeremy@uranusbytes.com">jeremy@uranusbytes.com</a> | <a href="./credits.html">Credits</a>
                </span>
            </div>
        </div>
    </div>
</div>

<div id="ImgModalDiv" class="modal2">
    <span id="ImgModalClose" class="modal-close" onclick="CloseImgModal();">&times;</span>
    <div class="polaroid-big-rotate">
        <div class="polaroid-big-surround">
            <img id="ModalImg" src="./images/blank.png" class="polaroid-big" />
        </div>
    </div>
</div>


<div id="CharModalDiv" class="modal">
    <span id="CharModalClose" class="modal-close" onclick="CloseCharModal();">&times;</span>
    <div class="char-container">
        <div class="char-child" style="flex-grow: 1; overflow: hidden;">
            <div id="CharName" class="char-name">Jingle</div>
            <img id="CharAvatar" class="char-avatar" src="./images/blank.png">
        </div>
        <div class="char-child" style="flex-grow: 1;">
            <div class="char-name">Dialog</div>
            <div id="CharDialog" class="char-dialog"></div>
        </div>
    </div>
</div>

</body>
</html>
